<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Terminal Web - Authentication</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.css" />
    <link rel="stylesheet" href="style.css" />
</head>
<body class="auth-page">
    <div class="auth-container">
        <!-- Header -->
        <header class="auth-header">
            <div class="auth-logo">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                    <rect x="3" y="3" width="18" height="18" rx="2"/>
                    <path d="M7 10l3 3-3 3M12 17h5" stroke="#0e0e0e" stroke-width="2"/>
                </svg>
                <h1>Terminal Web</h1>
            </div>
            <div class="connection-status">
                <span class="status-dot"></span>
                <span>Ready</span>
            </div>
        </header>

        <!-- Main Auth Card -->
        <main class="auth-main">
            <div class="auth-card">
                <div class="card-header">
                    <h2>Authentication Required</h2>
                    <p>Secure access to terminal session</p>
                </div>

                <!-- Request Code Form -->
                <div id="code-request-form" class="auth-form">
                    <div class="form-section">
                        <div class="section-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                        </div>
                        <div class="section-content">
                            <h3>Request Access Code</h3>
                            <p>Click below to receive a 6-digit access code via email.</p>
                            <button id="request-code-btn" class="btn btn-primary">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                    <polyline points="22,6 12,13 2,6"/>
                                </svg>
                                Send Access Code
                            </button>
                            <div id="email-info" class="email-info" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- Code Input Form -->
                <div id="code-input-form" class="auth-form" style="display: none;">
                    <div class="form-section">
                        <div class="section-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                <circle cx="12" cy="16" r="1"/>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                            </svg>
                        </div>
                        <div class="section-content">
                            <h3>Enter Access Code</h3>
                            <p>Enter the 6-digit code from your email:</p>
                            <div class="code-input-group">
                                <input type="text" 
                                       id="access-code" 
                                       class="code-input" 
                                       placeholder="000000" 
                                       maxlength="6" 
                                       pattern="[0-9]{6}"
                                       autocomplete="one-time-code" 
                                       inputmode="numeric" />
                            </div>
                            <div class="button-group">
                                <button id="verify-code-btn" class="btn btn-primary">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                        <circle cx="12" cy="16" r="1"/>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                    </svg>
                                    Authenticate
                                </button>
                                <button id="request-new-code-btn" class="btn btn-secondary">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="23 4 23 10 17 10"/>
                                        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                                    </svg>
                                    Request New Code
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Status Messages -->
                <div id="error-msg" class="alert alert-error" style="display: none;"></div>
                <div id="success-msg" class="alert alert-success" style="display: none;"></div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="auth-footer">
            <div class="footer-info">
                <span>Secure Terminal Access</span>
                <span>‚Ä¢</span>
                <span>v1.0.0</span>
            </div>
        </footer>
    </div>
        <div id="terminal-container" style="display: none;" role="application" aria-label="–¢–µ—Ä–º–∏–Ω–∞–ª">
            <nav id="mobile-controls" class="mobile-controls" role="toolbar" aria-label="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º">
                <div class="control-group" role="group" aria-label="–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã">
                    <button id="ctrl-btn" class="control-btn modifier" aria-label="–ö–ª–∞–≤–∏—à–∞ Control" aria-pressed="false">Ctrl</button>
                    <button id="alt-btn" class="control-btn modifier" aria-label="–ö–ª–∞–≤–∏—à–∞ Alt" aria-pressed="false">Alt</button>
                </div>
                <div class="control-group" role="group" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
                    <button id="tab-btn" class="control-btn" aria-label="–ö–ª–∞–≤–∏—à–∞ Tab">Tab</button>
                    <button id="esc-btn" class="control-btn" aria-label="–ö–ª–∞–≤–∏—à–∞ Escape">Esc</button>
                    <button id="arrows-btn" class="control-btn icon-btn" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏—à–∏ —Å–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏" aria-expanded="false" aria-controls="arrow-keys">‚Üë‚Üì‚Üê‚Üí</button>
                </div>
                <div class="control-group" role="group" aria-label="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã">
                    <button id="commands-btn" class="control-btn" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –±—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã" aria-expanded="false" aria-controls="quick-commands">CMD</button>
                    <button id="fullscreen-btn" class="control-btn icon-btn" aria-label="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º">[ ]</button>
                    <button id="settings-btn" class="control-btn icon-btn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" aria-expanded="false" aria-controls="settings-panel">‚öôÔ∏è</button>
                </div>
            </nav>
            <div id="terminal" role="textbox" aria-label="–û–±–ª–∞—Å—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞" aria-multiline="true" tabindex="0"></div>
            <div id="arrow-keys" class="arrow-keys" style="display: none;" role="toolbar" aria-label="–ö–ª–∞–≤–∏—à–∏ —Å–æ —Å—Ç—Ä–µ–ª–∫–∞–º–∏">
                <div class="arrow-row">
                    <button class="arrow-btn" data-key="ArrowUp" aria-label="–°—Ç—Ä–µ–ª–∫–∞ –≤–≤–µ—Ä—Ö">‚Üë</button>
                </div>
                <div class="arrow-row">
                    <button class="arrow-btn" data-key="ArrowLeft" aria-label="–°—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ">‚Üê</button>
                    <button class="arrow-btn" data-key="ArrowDown" aria-label="–°—Ç—Ä–µ–ª–∫–∞ –≤–Ω–∏–∑">‚Üì</button>
                    <button class="arrow-btn" data-key="ArrowRight" aria-label="–°—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ">‚Üí</button>
                </div>
            </div>
            
            <div id="quick-commands" class="quick-commands" style="display: none;" role="region" aria-label="–ü–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥">
                <div class="commands-header">
                    <span id="commands-heading">–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã</span>
                    <button id="add-command-btn" class="add-command-btn" aria-label="–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É">+</button>
                </div>
                <div id="commands-list" class="commands-list" role="list" aria-labelledby="commands-heading">
                    <!-- Commands will be populated here -->
                </div>
                <form id="add-command-form" class="add-command-form" style="display: none;" aria-label="–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã">
                    <label for="command-input" class="sr-only">–ö–æ–º–∞–Ω–¥–∞</label>
                    <input type="text" id="command-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É..." maxlength="100" aria-label="–¢–µ–∫—Å—Ç –∫–æ–º–∞–Ω–¥—ã" required>
                    <label for="command-name" class="sr-only">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</label>
                    <input type="text" id="command-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)" maxlength="20" aria-label="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)">
                    <div class="form-buttons">
                        <button type="submit" id="save-command-btn" aria-label="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        <button type="button" id="cancel-command-btn" aria-label="–û—Ç–º–µ–Ω–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>
            
            <!-- Settings Panel -->
            <div id="settings-panel" class="settings-panel" style="display: none;" role="dialog" aria-label="–ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫">
                <div class="settings-header">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                    <button id="close-settings" class="close-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏">√ó</button>
                </div>
                <div class="settings-content">
                    <div class="setting-group">
                        <label for="font-size-slider">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label>
                        <div class="slider-container">
                            <input type="range" id="font-size-slider" min="10" max="24" value="14" aria-label="–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞">
                            <span id="font-size-value" class="slider-value">14px</span>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label>–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞</label>
                        <div class="color-scheme-options">
                            <button class="color-scheme-btn active" data-scheme="default" aria-label="–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞">
                                <span class="color-preview" style="background: #000; color: #fff">Aa</span>
                                <span>–°—Ç–∞–Ω–¥–∞—Ä—Ç</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="monokai" aria-label="–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ Monokai">
                                <span class="color-preview" style="background: #272822; color: #f8f8f2">Aa</span>
                                <span>Monokai</span>
                            </button>
                            <button class="color-scheme-btn" data-scheme="solarized" aria-label="–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ Solarized">
                                <span class="color-preview" style="background: #002b36; color: #839496">Aa</span>
                                <span>Solarized</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="cursor-blink" checked>
                            <span>–ú–∏–≥–∞—é—â–∏–π –∫—É—Ä—Å–æ—Ä</span>
                        </label>
                    </div>
                    
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="sound-enabled">
                            <span>–ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                        </label>
                    </div>
                    
                    <div class="setting-group">
                        <button id="reset-settings" class="secondary-btn">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </div>
                    
                    <div class="setting-group">
                        <button id="disconnect-session" class="danger-btn">üö™ –û—Ç–∫–ª—é—á–∏—Ç—å —Å–µ—Å—Å–∏—é</button>
                        <small class="setting-description">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.8.0/lib/xterm-addon-fit.js"></script>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script src="app.js"></script>
</body>
</html>